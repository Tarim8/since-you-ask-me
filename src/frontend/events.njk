{% extends 'layout.njk' %}

{% from './components/page-heading/macro.njk' import pageHeading %}

{% block content %}
  {% call pageHeading() %}Well, since you ask me {{ topic }}
  <span class="subject">{{ subject }}</span>…{% endcall %}
  <p>
    I believe I do have a series of events that you might find
    {{
      [
        'educational',
        'elucidative',
        'enlightening',
        'informative',
        'illuminating',
        'revelatory'
      ]|random
    }}.
  </p>
  <ol class="events">
    {% for event in events %}
      <li style="animation-delay: {{ loop.index0 * 200 }}ms;">
        <div class="timeline-ball" aria-hidden="true"></div>
        <h2>{{ event.year }} – {{ event.location }}</h2>
        <div class="episode-link">
          <a href="/what-happened-in/episode-{{ event.episode }}">
            Episode {{ event.episode }}
          </a>, Scene {{ event.scene }}
        </div>
        {% for paragraph in event.description %}
          <p>{{ paragraph|withLinks }}</p>
        {% endfor %}
      </li>
    {% endfor %}
  </ol>
{% endblock %}
